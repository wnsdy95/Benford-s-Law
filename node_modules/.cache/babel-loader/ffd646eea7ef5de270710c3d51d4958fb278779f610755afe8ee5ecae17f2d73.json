{"ast":null,"code":"var _jsxFileName = \"E:\\\\Projects\\\\Benford's_Law\\\\Benford-s-Law\\\\src\\\\components\\\\Histogram.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Histogram = ({\n  data\n}) => {\n  _s();\n  const [distribution, setDistribution] = useState([]);\n  const svgRef = useRef(null);\n  const width = 500;\n  const height = 300;\n  const margin = {\n    top: 20,\n    right: 20,\n    bottom: 30,\n    left: 40\n  };\n  const x = d3.scaleBand().domain([1, 2, 3, 4, 5, 6, 7, 8, 9]) // Leading digits 1-9\n  .rangeRound([margin.left, width - margin.right]).padding(0.1);\n  const y = d3.scaleLinear().domain([0, d3.max(distribution)]).nice().rangeRound([height - margin.bottom, margin.top]);\n  function computeBenfordDistribution(data) {\n    const totalCount = data.length;\n    const distribution = Array(9).fill(0);\n    data.forEach(value => {\n      const leadingDigit = parseInt(String(value)[0]);\n      if (leadingDigit > 0) {\n        distribution[leadingDigit - 1] += 1;\n      }\n    });\n    return distribution.map(count => count / totalCount);\n  }\n  useEffect(() => {\n    if (data.length) {\n      const benfordDistribution = computeBenfordDistribution(data);\n      setDistribution(benfordDistribution);\n    }\n  }, [data]);\n  useEffect(() => {\n    console.log(data);\n    if (distribution.length) {\n      const svg = d3.select(svgRef.current);\n      svg.selectAll(\"*\").remove(); // Clear previous rendering\n\n      svg.attr(\"width\", width).attr(\"height\", height);\n\n      // Bars\n      svg.selectAll(\"rect\").data(distribution).enter().append(\"rect\").attr(\"x\", (d, i) => x(i + 1)).attr(\"y\", d => y(d)).attr(\"width\", x.bandwidth()).attr(\"height\", d => y(0) - y(d)).attr(\"fill\", \"steelblue\");\n\n      // X-axis\n      svg.append(\"g\").attr(\"transform\", `translate(0, ${height - margin.bottom})`).call(d3.axisBottom(x).tickSizeOuter(0));\n\n      // Y-axis\n      svg.append(\"g\").attr(\"transform\", `translate(${margin.left}, 0)`).call(d3.axisLeft(y).ticks(10, \"%\"));\n    }\n  }, [distribution]);\n  function computeBenfordDistribution(data) {\n    const totalCount = data.length;\n    const distribution = Array(9).fill(0);\n    data.forEach(value => {\n      const leadingDigit = parseInt(String(value)[0]);\n      if (leadingDigit > 0) {\n        distribution[leadingDigit - 1] += 1;\n      }\n    });\n    return distribution.map(count => count / totalCount);\n  }\n  return /*#__PURE__*/_jsxDEV(\"svg\", {\n    ref: svgRef\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 10\n  }, this);\n};\n_s(Histogram, \"vuzNG4dVH2H5Vc7Xd7laMrTxNQA=\");\n_c = Histogram;\nexport default Histogram;\nvar _c;\n$RefreshReg$(_c, \"Histogram\");","map":{"version":3,"names":["React","useState","useEffect","useRef","d3","jsxDEV","_jsxDEV","Histogram","data","_s","distribution","setDistribution","svgRef","width","height","margin","top","right","bottom","left","x","scaleBand","domain","rangeRound","padding","y","scaleLinear","max","nice","computeBenfordDistribution","totalCount","length","Array","fill","forEach","value","leadingDigit","parseInt","String","map","count","benfordDistribution","console","log","svg","select","current","selectAll","remove","attr","enter","append","d","i","bandwidth","call","axisBottom","tickSizeOuter","axisLeft","ticks","ref","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/Projects/Benford's_Law/Benford-s-Law/src/components/Histogram.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as d3 from \"d3\";\r\n\r\nconst Histogram = ({ data }) => {\r\n  const [distribution, setDistribution] = useState([]);\r\n  const svgRef = useRef(null);\r\n\r\n  const width = 500;\r\n  const height = 300;\r\n  const margin = { top: 20, right: 20, bottom: 30, left: 40 };\r\n\r\n  const x = d3\r\n    .scaleBand()\r\n    .domain([1, 2, 3, 4, 5, 6, 7, 8, 9]) // Leading digits 1-9\r\n    .rangeRound([margin.left, width - margin.right])\r\n    .padding(0.1);\r\n\r\n  const y = d3\r\n    .scaleLinear()\r\n    .domain([0, d3.max(distribution)])\r\n    .nice()\r\n    .rangeRound([height - margin.bottom, margin.top]);\r\n\r\n  function computeBenfordDistribution(data) {\r\n    const totalCount = data.length;\r\n    const distribution = Array(9).fill(0);\r\n\r\n    data.forEach((value) => {\r\n      const leadingDigit = parseInt(String(value)[0]);\r\n      if (leadingDigit > 0) {\r\n        distribution[leadingDigit - 1] += 1;\r\n      }\r\n    });\r\n\r\n    return distribution.map((count) => count / totalCount);\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (data.length) {\r\n      const benfordDistribution = computeBenfordDistribution(data);\r\n      setDistribution(benfordDistribution);\r\n    }\r\n  }, [data]);\r\n\r\n  useEffect(() => {\r\n    console.log(data);\r\n    if (distribution.length) {\r\n      const svg = d3.select(svgRef.current);\r\n\r\n      svg.selectAll(\"*\").remove(); // Clear previous rendering\r\n\r\n      svg.attr(\"width\", width).attr(\"height\", height);\r\n\r\n      // Bars\r\n      svg\r\n        .selectAll(\"rect\")\r\n        .data(distribution)\r\n        .enter()\r\n        .append(\"rect\")\r\n        .attr(\"x\", (d, i) => x(i + 1))\r\n        .attr(\"y\", (d) => y(d))\r\n        .attr(\"width\", x.bandwidth())\r\n        .attr(\"height\", (d) => y(0) - y(d))\r\n        .attr(\"fill\", \"steelblue\");\r\n\r\n      // X-axis\r\n      svg\r\n        .append(\"g\")\r\n        .attr(\"transform\", `translate(0, ${height - margin.bottom})`)\r\n        .call(d3.axisBottom(x).tickSizeOuter(0));\r\n\r\n      // Y-axis\r\n      svg\r\n        .append(\"g\")\r\n        .attr(\"transform\", `translate(${margin.left}, 0)`)\r\n        .call(d3.axisLeft(y).ticks(10, \"%\"));\r\n    }\r\n  }, [distribution]);\r\n\r\n  function computeBenfordDistribution(data) {\r\n    const totalCount = data.length;\r\n    const distribution = Array(9).fill(0);\r\n\r\n    data.forEach((value) => {\r\n      const leadingDigit = parseInt(String(value)[0]);\r\n      if (leadingDigit > 0) {\r\n        distribution[leadingDigit - 1] += 1;\r\n      }\r\n    });\r\n\r\n    return distribution.map((count) => count / totalCount);\r\n  }\r\n\r\n  return <svg ref={svgRef}></svg>;\r\n};\r\n\r\nexport default Histogram;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}